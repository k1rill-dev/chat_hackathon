{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <title>CSS Template</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet"  href="{% static '/css/main_style.css' %}">
    <link rel="stylesheet" href="{% static '/css/media.css' %}">
</head>

<body>
<div class="header">
    <figure>
        <a href=#>
            <img src="{{ user.avatar.url }}"
                 alt="Avatar" class="avatar">
            <figcaption>{{ user.first_name }} {{ user.last_name }}</figcaption>
        </a>
    </figure>

    <a href=#>Corporative Chat</a>
    <a href={% url 'home' %}>
        <img src="{% static '/img/chat-round-svgrepo-com.png' %}" alt="Avatar" class="avatar">
    </a>
</div>

<div class="row">
    <div class="column" >
        <div class="carousel">
            <ul class="carousel__list">
                <li class="carousel__item">
                    <figure class="carousel__figure">
                        <img
                                class="carousel__item__image"
                                src="{{ fp.picture.url }}"
                        />
                    </figure>
                </li>
                <li class="carousel__item">
                    <figure class="carousel__figure">
                        <img
                                class="carousel__item__image"
                                src="{{ sp.picture.url }}"
                        />
                    </figure>
                </li>
                <li class="carousel__item">
                    <figure class="carousel__figure">
                        <img
                                class="carousel__item__image"
                                src="{{ tp.picture.url }}"
                        />
                    </figure>
                </li>
            </ul>
            <button class="carousel__button carousel__button--prev">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/77/Feather-arrows-chevron-left.svg/1200px-Feather-arrows-chevron-left.svg.png" style="width:100%;height:100%;">
            </button>
            <button class="carousel__button carousel__button--next">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/77/Feather-arrows-chevron-left.svg/1200px-Feather-arrows-chevron-left.svg.png" style="width:100%;height:100%;Transform: scale(-1, 1);">
            </button>
        </div>
    </div>
</div>
<div class="row">
    <div class="column">
        <div class="news1" style="background-image:url('{{ fp.picture.url }}');">
            <div class="hidden-element1">
                <h1>{{ fir.body }}</h1>
                <h3>{{ fir.author.full_name }}!</h3>
            </div>
            <p>{{ fir.title}}</p></div>
        <div class="news2" style="background-image:url('{{ sp.picture.url }}');">
            <div class="hidden-element2">
                <<h1>{{ sec.body }}</h1>
                <h3>{{ sec.author.full_name }}!</h3>
            </div>
            <p>{{ sec.title}}</p></div>
        <div class="news3" style="background-image:url('{{ tp.picture.url }}');">
            <div class="hidden-element3">
                <h1>{{ thrd.body }}</h1>
                <h3>{{ thrd.author.full_name }}!</h3>
            </div>
            <p>{{ thrd.title }}</p></div>
    </div>
</div>


<div class="footer">
    <ul style="list-style: none;">
        <li><a href=#>Домой</a></li>
        <li><a href=#>Github проекта</a></li>
        <li><a href=#>Made by FVBB</a></li>
    </ul>
    <ul style="list-style: none;">
        <li><a href=#>Информация</a></li>
        <li><a href=#>Контакты</a></li>
        <li><a href=#>Пользовательское соглашение</a></li>
    </ul>
    <ul style="list-style: none;">
        <li><a href=#>Чат</a></li>
        <li><a href=#>Контакты</a></li>
        <li><a href=#>Контакты</a></li>
    </ul>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
<script>
$('.news1').click(function(){
  $(".hidden-element1").fadeToggle(100);
});


</script>
<script>
$('.news2').click(function(){
  $(".hidden-element2").fadeToggle(100);
});


</script>
<script>
$('.news3').click(function(){
  $(".hidden-element3").fadeToggle(100);
});


</script>
<script>
function moveSlideshowToIndex (element, total, index) {
  const n = index % total * -1
  element.style.transform = `translateX(${n * 100}%)`;
}


function slideshow({ selector, initialIndex, autoscroll }) {
  var current = initialIndex || 0;
  const slideshow = document.querySelector(selector);
  const slides = document.querySelector('.carousel__list');
  const total = slideshow.querySelectorAll(".carousel__item").length

  const prev = slideshow.querySelector(".carousel__button--prev");
  const next = slideshow.querySelector(".carousel__button--next");

  next.addEventListener('click', () => {
    current = current + 1;
    moveSlideshowToIndex(slides, total, current)
  })

  prev.addEventListener('click', () => {
    current = current - 1;
    moveSlideshowToIndex(slides, total, current)
  })

  if (!autoscroll) return;


  setInterval(() => {
    current = current + 1;
    moveSlideshowToIndex(slides, total, current)
  }, 3000)
}

slideshow({
 selector: ".carousel",
 autoscroll: true
})






</script>

</script>
</body>
</html>